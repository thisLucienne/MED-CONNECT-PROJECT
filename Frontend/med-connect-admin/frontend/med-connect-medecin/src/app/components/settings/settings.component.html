<div class="settings-container">
  <!-- En-tête -->
  <div class="settings-header">
    <div class="header-content">
      <h1>Paramètres Système</h1>
      <p>Gérez votre profil, sécurité et préférences</p>
    </div>
    <button class="btn-back" (click)="navigateToDashboard()">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Retour au Dashboard
    </button>
  </div>

  <!-- Navigation par onglets -->
  <div class="settings-tabs">
    <button 
      class="tab-button"
      [class.active]="activeTab === 'profile'"
      (click)="setActiveTab('profile')"
    >
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2"/>
      </svg>
      Profil
    </button>
    
    <button 
      class="tab-button"
      [class.active]="activeTab === 'notifications'"
      (click)="setActiveTab('notifications')"
    >
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z" stroke="currentColor" stroke-width="2"/>
        <path d="M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21" stroke="currentColor" stroke-width="2"/>
      </svg>
      Notifications
    </button>
    
    <button 
      class="tab-button"
      [class.active]="activeTab === 'security'"
      (click)="setActiveTab('security')"
    >
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="currentColor" stroke-width="2"/>
      </svg>
      Sécurité
    </button>
    
    <button 
      class="tab-button"
      [class.active]="activeTab === 'interface'"
      (click)="setActiveTab('interface')"
    >
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3Z" stroke="currentColor" stroke-width="2"/>
        <path d="M12 9V13M12 17H12.01" stroke="currentColor" stroke-width="2"/>
      </svg>
      Interface
    </button>
  </div>

  <!-- Contenu des onglets -->
  <div class="settings-content">
    
    <!-- Onglet Profil -->
    <div *ngIf="activeTab === 'profile'" class="tab-content">
      <div class="section-card">
        <h2>Informations Professionnelles</h2>
        <form class="profile-form" (ngSubmit)="saveProfile()">
          <div class="form-row">
            <div class="form-group">
              <label for="nom">Nom</label>
              <input type="text" id="nom" [(ngModel)]="doctorProfile.nom" name="nom" class="form-input">
            </div>
            <div class="form-group">
              <label for="prenom">Prénom</label>
              <input type="text" id="prenom" [(ngModel)]="doctorProfile.prenom" name="prenom" class="form-input">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="specialite">Spécialité</label>
              <select id="specialite" [(ngModel)]="doctorProfile.specialite" name="specialite" class="form-select">
                <option value="Médecine générale">Médecine générale</option>
                <option value="Cardiologie">Cardiologie</option>
                <option value="Dermatologie">Dermatologie</option>
                <option value="Pédiatrie">Pédiatrie</option>
                <option value="Gynécologie">Gynécologie</option>
              </select>
            </div>
            <div class="form-group">
              <label for="numeroOrdre">Numéro RPPS/ADELI</label>
              <input type="text" id="numeroOrdre" [(ngModel)]="doctorProfile.numeroOrdre" name="numeroOrdre" class="form-input">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="telephone">Téléphone</label>
              <input type="tel" id="telephone" [(ngModel)]="doctorProfile.telephone" name="telephone" class="form-input">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" [(ngModel)]="doctorProfile.email" name="email" class="form-input">
            </div>
          </div>
          
          <div class="form-group">
            <label for="adresse">Adresse du cabinet</label>
            <textarea id="adresse" [(ngModel)]="doctorProfile.adresse" name="adresse" class="form-textarea" rows="2"></textarea>
          </div>
          
          <div class="form-group">
            <label for="bio">Biographie professionnelle</label>
            <textarea id="bio" [(ngModel)]="doctorProfile.bio" name="bio" class="form-textarea" rows="4"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="btn-primary">Sauvegarder les modifications</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Onglet Notifications -->
    <div *ngIf="activeTab === 'notifications'" class="tab-content">
      <div class="section-card">
        <h2>Préférences de Notification</h2>
        <p class="section-description">Choisissez comment et quand vous souhaitez être notifié</p>
        
        <div class="notifications-list">
          <div *ngFor="let setting of notificationSettings" class="notification-item">
            <div class="notification-info">
              <h3>{{ setting.title }}</h3>
              <p>{{ setting.description }}</p>
              <span class="notification-type" [class]="setting.type">{{ setting.type | uppercase }}</span>
            </div>
            <div class="notification-toggle">
              <label class="toggle-switch">
                <input type="checkbox" [checked]="setting.enabled" (change)="toggleNotification(setting)">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <div class="form-actions">
          <button class="btn-primary" (click)="saveNotifications()">Sauvegarder les préférences</button>
        </div>
      </div>
    </div>

    <!-- Onglet Sécurité -->
    <div *ngIf="activeTab === 'security'" class="tab-content">
      <div class="section-card">
        <h2>Paramètres de Sécurité</h2>
        <p class="section-description">Protégez votre compte et vos données</p>
        
        <div class="security-list">
          <div *ngFor="let setting of securitySettings" class="security-item">
            <div class="security-info">
              <h3>{{ setting.title }}</h3>
              <p>{{ setting.description }}</p>
              <span class="security-status" [class]="setting.status">{{ setting.status | uppercase }}</span>
            </div>
            <div class="security-toggle">
              <label class="toggle-switch">
                <input type="checkbox" [checked]="setting.enabled" (change)="toggleSecurity(setting)">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <div class="security-actions">
          <button class="btn-secondary" (click)="setup2FA()">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1Z" stroke="currentColor" stroke-width="2"/>
            </svg>
            Configurer 2FA
          </button>
          <button class="btn-secondary" (click)="changePassword()">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M21 2L19 4M19 4L17 6M19 4V1M19 4H22M5 12V7C5 5.89543 5.89543 5 7 5H17C18.1046 5 19 5.89543 19 7V12M5 12C3.89543 12 3 12.8954 3 14V18C3 19.1046 3.89543 20 5 20H17C18.1046 20 19 19.1046 19 18V14C19 12.8954 18.1046 12 17 12H5Z" stroke="currentColor" stroke-width="2"/>
            </svg>
            Changer le mot de passe
          </button>
        </div>
        
        <div class="form-actions">
          <button class="btn-primary" (click)="saveSecurity()">Sauvegarder les paramètres</button>
        </div>
      </div>
    </div>

    <!-- Onglet Interface -->
    <div *ngIf="activeTab === 'interface'" class="tab-content">
      <div class="section-card">
        <h2>Préférences d'Interface</h2>
        <p class="section-description">Personnalisez l'apparence et le comportement de l'application</p>
        
        <form class="interface-form" (ngSubmit)="saveInterface()">
          <div class="form-row">
            <div class="form-group">
              <label for="theme">Thème</label>
              <select id="theme" [(ngModel)]="interfaceSettings.theme" name="theme" class="form-select">
                <option value="light">Clair</option>
                <option value="dark">Sombre</option>
                <option value="auto">Automatique</option>
              </select>
            </div>
            <div class="form-group">
              <label for="language">Langue</label>
              <select id="language" [(ngModel)]="interfaceSettings.language" name="language" class="form-select">
                <option value="fr">Français</option>
                <option value="en">English</option>
                <option value="es">Español</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="timezone">Fuseau horaire</label>
              <select id="timezone" [(ngModel)]="interfaceSettings.timezone" name="timezone" class="form-select">
                <option value="Europe/Paris">Europe/Paris (GMT+1)</option>
                <option value="Europe/London">Europe/London (GMT+0)</option>
                <option value="America/New_York">America/New_York (GMT-5)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="dateFormat">Format de date</label>
              <select id="dateFormat" [(ngModel)]="interfaceSettings.dateFormat" name="dateFormat" class="form-select">
                <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                <option value="YYYY-MM-DD">YYYY-MM-DD</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="timeFormat">Format d'heure</label>
              <select id="timeFormat" [(ngModel)]="interfaceSettings.timeFormat" name="timeFormat" class="form-select">
                <option value="24h">24 heures</option>
                <option value="12h">12 heures (AM/PM)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="density">Densité d'affichage</label>
              <select id="density" [(ngModel)]="interfaceSettings.density" name="density" class="form-select">
                <option value="compact">Compact</option>
                <option value="comfortable">Confortable</option>
                <option value="spacious">Spacieux</option>
              </select>
            </div>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="btn-primary">Sauvegarder les préférences</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Actions dangereuses -->
  <div class="danger-zone">
    <h2>Zone de Danger</h2>
    <p>Actions irréversibles - Procédez avec prudence</p>
    
    <div class="danger-actions">
      <button class="btn-danger-outline" (click)="exportData()">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M7 10L12 15M12 15L17 10M12 15V3" stroke="currentColor" stroke-width="2"/>
        </svg>
        Exporter mes données
      </button>
      
      <button class="btn-danger" (click)="deleteAccount()">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20" stroke="currentColor" stroke-width="2"/>
        </svg>
        Supprimer mon compte
      </button>
    </div>
  </div>
</div>